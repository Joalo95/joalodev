---
import Section from "./Section.astro";
---

<Section color="black" id="proyects">
  <div slot="footer" class="">
    <div class="card-container">
      <div class="card sm:w-[300px] md:w-[400px]">
        <div class="card-face card-front">
          <h2>My Proyects</h2>
          <img src="laptop_gamer.jpg" alt="" />
        </div>
        <div class="card-face card-back">
          <div class="slide-container">
            <div class="slide active">
              <h2 class="text-lg p-4">Proyect 1 - Pokedex</h2>
              <h3 class="text-sm p-2">Node.js | React | PostgreSQL</h3>
            </div>
            <div class="slide">
              <h2 class="text-lg p-4">Proyect 2 - Inmobiliaria</h2>
              <h3 class="text-sm p-2">Node.js | React | PostgreSQL</h3>
            </div>
            <div class="slide">
              <h2 class="text-lg p-4">Proyect 3 - Tienda online</h2>
              <h3 class="text-sm p-2">
                Node.js | React | Tailwind | PostgreSQL
              </h3>
            </div>
            <div class="slide">
              <h2 class="text-lg p-4">Proyect 4 - Ecommerce</h2>
              <h3 class="text-sm p-2">
                Node.js | React | Redux | ChakraUI | MongoDB
              </h3>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <img
    slot="background"
    alt=""
    class="h-full w-full object-cover object-center"
    src="/mountains-tres.jpg"
  />
</Section>
<style>
  body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    perspective: 1000px;
  }

  .card-container {
    perspective: 1000px;
  }

  .card {
    position: relative;
    top: -4rem;
    margin: 50px auto;
    transform-style: preserve-3d;
    transition: transform 0.8s;
    width: 600px;
    height: 400px;
  }

  .card:hover {
    transform: rotateY(180deg);
  }

  .card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
  }

  .card-front {
    backdrop-filter: blur(7px) saturate(150%);
    -webkit-backdrop-filter: blur(7px) saturate(150%);
    background-color: rgba(217, 219, 224, 0.6);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.125);
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
    align-items: center;
  }

  .card-front img {
    border-radius: 12px;
    object-fit: cover;
    width: 20rem;
    height: 20rem;
  }

  .card-back {
    backdrop-filter: blur(7px) saturate(150%);
    -webkit-backdrop-filter: blur(7px) saturate(150%);
    background-color: rgba(217, 219, 224, 0.6);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.125);
    transform: rotateY(180deg);
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .slide-container {
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .slide {
    display: none;
  }

  .slide.active {
    display: block;
  }

  @keyframes rotate {
    0% {
      transform: translateZ(-200px) rotateX(0deg) rotateY(0deg) rotateZ(0deg);
    }
    100% {
      transform: translateZ(-200px) rotateX(360deg) rotateY(360deg)
        rotateZ(360deg);
    }
  }
</style>
<script>
  const slides = document.querySelectorAll(".slide");
  let currentSlide = 0;

  function showSlide(slideIndex) {
    slides.forEach((slide, index) => {
      if (index === slideIndex) {
        slide.classList.add("active");
      } else {
        slide.classList.remove("active");
      }
    });
  }

  setInterval(() => {
    currentSlide = (currentSlide + 1) % slides.length;
    showSlide(currentSlide);
  }, 3000);
</script>
